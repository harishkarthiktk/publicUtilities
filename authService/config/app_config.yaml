# AuthService Application Configuration
# This file contains all configurable settings for the AuthService
# All values can be customized without changing code

# ============================================
# Application Settings
# ============================================
app:
  name: "AuthService"
  environment: "production"      # Options: development, staging, production
  version: "1.0.0"


# ============================================
# Logging Configuration
# ============================================
logging:
  # General application logging
  general:
    name: "AuthManager"
    level: "INFO"                 # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
    file: "logs/auth.log"
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    date_format: "%Y-%m-%d %H:%M:%S"
    max_bytes: 5242880            # 5MB - log rotation size
    backup_count: 3               # Number of backup logs to keep

  # Audit logging (tracks user operations)
  audit:
    enabled: true
    file: "logs/audit.log"
    format: "[AUDIT] %(asctime)s - %(message)s"
    date_format: "%Y-%m-%d %H:%M:%S"
    max_bytes: 5242880            # 5MB - log rotation size
    backup_count: 5               # Number of backup audit logs to keep


# ============================================
# Authentication Settings
# ============================================
auth:
  # Password hashing configuration
  hashing:
    enabled: true
    algorithm: "bcrypt"           # Options: bcrypt, argon2, custom
    bcrypt_rounds: 12             # 10-13 recommended (higher = slower but more secure)

  # Custom hash function (Python import path)
  # Example: "mymodule.custom_verify"
  # Leave as null to use built-in bcrypt
  custom_hash_function: null

  # Default values for new users and operations
  defaults:
    ip_address: "unknown"         # Default IP when not provided
    by_whom: "system"             # Default actor for audit logs
    user_role: "user"             # Default role for new users
    user_is_active: true          # Default active status

  # Session and security settings
  session:
    timeout: 3600                 # Session timeout in seconds (1 hour)
    require_https: true           # Require HTTPS in production


# ============================================
# User Management
# ============================================
users:
  config_file: "config/users.yaml"   # Path to users YAML file
  auto_load: true                     # Auto-load users on initialization


# ============================================
# Password Migration Settings
# ============================================
migration:
  create_backup: true                  # Create backup before migration
  backup_extension: ".bak"             # Backup file extension
  reserved_keys:
    - "auth_type"                      # Don't treat as usernames
    - "log_level"
    - "log_file"
    - "require_https"


# ============================================
# Error Codes (customizable)
# ============================================
error_codes:
  user_not_found: "USER_NOT_FOUND"
  invalid_credentials: "INVALID_CREDENTIALS"
  auth_error: "AUTH_ERROR"
  invalid_header: "INVALID_HEADER"
  invalid_encoding: "INVALID_ENCODING"
  header_parse_error: "HEADER_PARSE_ERROR"


# ============================================
# Security Policies
# ============================================
security:
  # Password policy requirements (future use)
  password_policy:
    min_length: 8
    require_uppercase: false
    require_numbers: false
    require_special: false

  # Rate limiting against brute force attacks
  rate_limiting:
    enabled: false                     # Enable rate limiting
    max_attempts: 5                    # Failed attempts allowed
    window_seconds: 300                # Time window (5 minutes)


# ============================================
# Framework-Specific Settings
# ============================================
frameworks:
  # Flask configuration
  flask:
    host: "0.0.0.0"
    port: 5000
    debug: false
    cors_origins:
      - "https://trusted-domain.com"

  # Django configuration
  django:
    allowed_hosts:
      - "example.com"
    auth_type: "basic"

  # Express.js configuration
  express:
    port: 3000
    cors_enabled: true

  # Spring Boot configuration
  spring:
    port: 8080
    servlet_path: "/api"
